
[[_usage]]
= Usage

There are two choices for applying the plugin described in this document

Option #1
[source,groovy]
[subs="attributes"]
----
buildscript {
    repositories {
        jcenter()
        gradlePluginPortal()
    }
    dependencies {
        classpath 'org.kordamp.gradle:oci-gradle-plugin:{project-version}'
    }
}
apply plugin: 'org.kordamp.gradle.oci'
----

Option #2
[source,groovy]
[subs="attributes"]
----
plugins {
    id 'org.kordamp.gradle.oci' version '{project-version}'
}
----

== Requirements

Java 8 and Gradle 5 are the minimum requirements to use this plugin.

=== Example

Provisioning an Instance with brand new Vcn, Subnets, InternetGateway, and InstanceConsoleConnection, making sure that OpenJDK
is installed and port `8080` is open

[source,groovy]
----
gradle setupInstance \
  --compartment-id=ocid1.compartment.oc1... \
  --verbose \
  --instance-name=myInstance \
  --image=Oracle-Linux-7.6-2019.04.18-0 \
  --shape=VM.Standard2.1 \
  --public-key-file=/home/myuser/.oci/oci-key.pub \
  --user-data-file=/home/myuser/oci/cloud-init.sh
----

[source]
.cloud-init.sh
----
#!/bin/bash

cp /etc/motd /etc/motd.bkp
cat << EOF > /etc/motd
I have been modified by cloud-init at $(date)
EOF

# install Java
yum install -y yum java-1.8.0-openjdk

# amend firewall rules to allow port 4567
function conf-firewalld() {
    setenforce 0
    firewall-cmd --permanent --permanent --zone=public --add-port=4567/tcp
    systemctl restart firewalld
    setenforce 1
}

conf-firewalld
----

== Configuration

You can configure tasks in two ways:

 1. Using the standard `~/.oci/config` file.
 2. Defining an `ociConfig` block on a task.

=== Standard Config File

The format of the configuration file is specified at link:https://docs.cloud.oracle.com/iaas/Content/API/SDKDocs/javasdkgettingstarted.htm[this page],
it looks something similar to

[source]
----
[DEFAULT]
user=ocid1.user.oc1...
tenancy=ocid1.tenancy.oc1...
region=eu-frankfurt-1
key_file=~/.oci/oci_api_key.pem
pass_phrase=<secret>
fingerprint=f9:14:d0:...
----

=== OciConfig Extension Block

Alternatively you may define an `ociConfig` block in a task. This block defines properties that match settings
found on the config file

[source,groovy]
.build.gradle
----
listInstances {
    ociConfig {
        userId.set('ocid1.user.oc1...')
        tenantId.set('ocid1.tenancy.oc1...')
        region.set('eu-frankfurt-1')
        keyfile.set(~'/.oci/oci_api_key.pem')
        passphrase.set('<secret>')
        fingerprint.set('f9:14:d0:...')
    }
}
----

== Tasks

Invoke `gradle help --task <taskname>` to learn more about the properties that can be set for a particular task.
All tasks share the following properties

[options="header", cols="6*<,^"]
|===
| Property    | Type    | Option       | System      | Environment | Default | Required
| profile     | String  | oci-profile  | oci.profile | OCI_PROFILE | DEFAULT | icon:times[role="red"]
| region      | String  | region       | oci.region  | OCI_REGION  |         | icon:times[role="red"]
| showSecrets | boolean | show-secrets |             |             | false   | icon:times[role="red"]
|===

Where each column defines

[horizontal]
Property:: The name of the task property.
Type:: The type of the property.
Option:: The command line flag to set this property's value. Use `--` as prefix, i.e, `--oic-profile=mine`.
System:: The system property to set this property's value. Use `-D` as prefix, i.e, `-Doci.profile=mine`
Environment:: The environment key to set this property's value. Set as key/value in command shell, i.e, `export OCI_PROFILE=mine`.
Default:: Default value for this property (if any).
Required:: Whether this property is required or not.

System values are resolved in the following order

Environment > System System > Option > Property

[[_oci_create_]]
=== OCI Create

[horizontal]
<<createBucket>>:: Creates a Bucket.
<<createCompartment>>:: Creates a Compartment.
<<createInstanceConsoleConnection>>:: Creates an InstanceConsoleConnection.
<<createInstance>>:: Creates an Instance.
<<createInternetGateway>>:: Creates a InternetGateway.
<<createSubnet>>:: Creates a Subnet.
<<createVcn>>:: Creates a Vcn.

[[createBucket]]
.createBucket
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| compartmentId | String  | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
| bucketName    | String  | bucket-name    | oci.bucket.name    | OCI_BUCKET_NAME    |         | icon:check[role="green"]
| namespaceName | String  | namespace-name | oci.namespace.name | OCI_NAMESPACE_NAME |         | icon:check[role="green"]
| verbose       | boolean | verbose        | oci.verbose        | OCI_VERBOSE        | false   | icon:times[role="red"]
|===
<<_oci_create_,icon:arrow-up[] top>>

[[createCompartment]]
.createCompartment
[options="header", cols="6*<,^"]
|===
| Property               | Type    | Option                  | System                      | Environment                 | Default | Required
| compartmentDescription | String  | compartment-description | oci.compartment.description | OCI_COMPARTMENT_DESCRIPTION |         | icon:check[role="green"]
| compartmentId          | String  | compartment-id          | oci.compartment.id          | OCI_COMPARTMENT_ID          |         | icon:check[role="green"]
| compartmentName        | String  | compartment-name        | oci.compartment.name        | OCI_COMPARTMENT_NAME        |         | icon:check[role="green"]
| verbose                | boolean | verbose                 | oci.verbose                 | OCI_VERBOSE                 | false   | icon:times[role="red"]
| waitForCompletion      | boolean | wait-for-completion     | oci.wait.for.completion     | OCI_WAIT_FOR_COMPLETION     | false   | icon:times[role="red"]
|===
<<_oci_create_,icon:arrow-up[] top>>

[[createInstanceConsoleConnection]]
.createInstanceConsoleConnection
[options="header", cols="6*<,^"]
|===
| Property          | Type    | Option              | System                  | Environment             | Default | Required
| compartmentId     | String  | compartment-id      | oci.compartment.id      | OCI_COMPARTMENT_ID      |         | icon:check[role="green"]
| instanceId        | String  | instance-id         | oci.instance.id         | OCI_INSTANCE_ID         |         | icon:check[role="green"]
| publicKeyFile     | File    | public-key-file     | oci.public.key.file     | OCI_PUBLIC_KEY_FILE     |         | icon:check[role="green"]
| verbose           | boolean | verbose             | oci.verbose             | OCI_VERBOSE             | false   | icon:times[role="red"]
| waitForCompletion | boolean | wait-for-completion | oci.wait.for.completion | OCI_WAIT_FOR_COMPLETION | false   | icon:times[role="red"]
|===
<<_oci_create_,icon:arrow-up[] top>>

[[createInstance]]
.createInstance
[options="header", cols="6*<,^"]
|===
| Property          | Type    | Option              | System                  | Environment             | Default | Required
| compartmentId     | String  | compartment-id      | oci.compartment.id      | OCI_COMPARTMENT_ID      |         | icon:check[role="green"]
| image             | String  | image               | oci.image               | OCI_IMAGE               |         | icon:check[role="green"]
| instanceName      | String  | instance-name       | oci.instance.name       | OCI_INSTANCE_NAME       |         | icon:check[role="green"]
| publicKeyFile     | File    | public-key-file     | oci.public.key.file     | OCI_PUBLIC_KEY_FILE     |         | icon:check[role="green"]
| shape             | String  | shape               | oci.shape               | OCI_SHAPE               |         | icon:check[role="green"]
| subnetId          | String  | subnet-id           | oci.subnet.id           | OCI_SUBNET_ID           |         | icon:check[role="green"]
| userDataFile      | File    | user-data-file      | oci.user.data.file      | OCI_USER_DATA_FILE      |         | icon:check[role="green"]
| verbose           | boolean | verbose             | oci.verbose             | OCI_VERBOSE             | false   | icon:times[role="red"]
| waitForCompletion | boolean | wait-for-completion | oci.wait.for.completion | OCI_WAIT_FOR_COMPLETION | false   | icon:times[role="red"]
|===
<<_oci_create_,icon:arrow-up[] top>>

[[createInternetGateway]]
.createInternetGateway
[options="header", cols="6*<,^"]
|===
| Property            | Type    | Option                | System                    | Environment               | Default | Required
| internetGatewayName | String  | internet-gateway-name | oci.internet.gateway.name | OCI_INTERNET_GATEWAY_NAME |         | icon:check[role="green"]
| verbose             | boolean | verbose               | oci.verbose               | OCI_VERBOSE               | false   | icon:times[role="red"]
| waitForCompletion   | boolean | wait-for-completion   | oci.wait.for.completion   | OCI_WAIT_FOR_COMPLETION   | false   | icon:times[role="red"]
|===
<<_oci_create_,icon:arrow-up[] top>>

[[createSubnet]]
.createSubnet
[options="header", cols="6*<,^"]
|===
| Property           | Type    | Option              | System                  | Environment             | Default | Required
| availabilityDomain | String  | availability-domain | oci.availability.domain | OCI_AVAILABILITY_DOMAIN |         | icon:check[role="green"]
| compartmentId      | String  | compartment-id      | oci.compartment.id      | OCI_COMPARTMENT_ID      |         | icon:check[role="green"]
| dnsLabel           | String  | dns-label           | oci.dns.label           | OCI_DNS_LABEL           |         | icon:check[role="green"]
| subnetName         | String  | subnet-name         | oci.subnet.name         | OCI_SUBNET_NAME         |         | icon:check[role="green"]
| vcnId              | String  | vcn-id              | oci.vcn.id              | OCI_VCN_ID              |         | icon:check[role="green"]
| verbose            | boolean | verbose             | oci.verbose             | OCI_VERBOSE             | false   | icon:times[role="red"]
| waitForCompletion  | boolean | wait-for-completion | oci.wait.for.completion | OCI_WAIT_FOR_COMPLETION | false   | icon:times[role="red"]
|===
<<_oci_create_,icon:arrow-up[] top>>

[[createVcn]]
.createVcn
[options="header", cols="6*<,^"]
|===
| Property           | Type    | Option              | System                  | Environment             | Default | Required
| compartmentId      | String  | compartment-id      | oci.compartment.id      | OCI_COMPARTMENT_ID      |         | icon:check[role="green"]
| dnsLabel           | String  | dns-label           | oci.dns.label           | OCI_DNS_LABEL           |         | icon:check[role="green"]
| vcnName            | String  | vcn-name            | oci.vcn.name            | OCI_VCN_NAME            |         | icon:check[role="green"]
| verbose            | boolean | verbose             | oci.verbose             | OCI_VERBOSE             | false   | icon:times[role="red"]
| waitForCompletion  | boolean | wait-for-completion | oci.wait.for.completion | OCI_WAIT_FOR_COMPLETION | false   | icon:times[role="red"]
|===
<<_oci_create_,icon:arrow-up[] top>>

[[_oci_delete_]]
=== OCI Delete

[horizontal]
<<deleteBucket>>:: Deletes a Bucket.
<<deleteCompartment>>:: Deletes a Compartment.
<<deleteInstanceConsoleConnection>>:: Deletes an InstanceConsoleConnection.
<<deleteInternetGateway>>:: Deletes a InternetGateway.
<<deleteObject>>:: Deletes an Object.
<<deleteSubnet>>:: Deletes a Subnet.
<<deleteVcn>>:: Deletes a Vcn.

[[deleteBucket]]
.deleteBucket
[options="header", cols="6*<,^"]
|===
| Property          | Type    | Option              | System                  | Environment             | Default | Required
| bucketName        | String  | bucket-name         | oci.bucket.name         | OCI_BUCKET_NAME         |         | icon:check[role="green"]
| namespaceName     | String  | namespace-name      | oci.namespace.name      | OCI_NAMESPACE_NAME      |         | icon:check[role="green"]
| waitForCompletion | boolean | wait-for-completion | oci.wait.for.completion | OCI_WAIT_FOR_COMPLETION | false   | icon:times[role="red"]
|===
<<_oci_delete_,icon:arrow-up[] top>>

[[deleteCompartment]]
.deleteCompartment
[options="header", cols="6*<,^"]
|===
| Property          | Type    | Option              | System                  | Environment             | Default | Required
| compartmentId     | String  | compartment-id      | oci.compartment.id      | OCI_COMPARTMENT_ID      |         | icon:check[role="green"]
| waitForCompletion | boolean | wait-for-completion | oci.wait.for.completion | OCI_WAIT_FOR_COMPLETION | false   | icon:times[role="red"]
|===
<<_oci_delete_,icon:arrow-up[] top>>

[[deleteInstanceConsoleConnection]]
.deleteInstanceConsoleConnection
[options="header", cols="6*<,^"]
|===
| Property                    | Type    | Option                         | System                             | Environment                        | Default | Required
| instanceConsoleConnectionId | String  | instance-console-connection-id | oci.instance.console.connection.id | OCI_INSTANCE_CONSOLE_CONNECTION_ID |         | icon:check[role="green"]
| waitForCompletion           | boolean | wait-for-completion            | oci.wait.for.completion            | OCI_WAIT_FOR_COMPLETION            | false   | icon:times[role="red"]
|===
<<_oci_delete_,icon:arrow-up[] top>>

[[deleteInternetGateway]]
.deleteInternetGateway
[options="header", cols="6*<,^"]
|===
| Property            | Type    | Option                | System                    | Environment               | Default | Required
| compartmentId       | String  | compartment-id        | oci.compartment.id        | OCI_COMPARTMENT_ID        |         | icon:check[role="green"]
| internetGatewayId   | String  | internet-gateway-id   | oci.internet.gateway.id   | OCI_INTERNET_GATEWAY_ID   |         | icon:check[role="green"]*
| internetGatewayName | String  | internet-gateway-name | oci.internet.gateway.name | OCI_INTERNET_GATEWAY_NAME |         | icon:check[role="green"]*
| vcnId               | String  | vcn-id                | oci.vcn.id                | OCI_VCN_ID                |         | icon:check[role="green"]
| waitForCompletion   | boolean | wait-for-completion   | oci.wait.for.completion   | OCI_WAIT_FOR_COMPLETION   | false   | icon:times[role="red"]
|===

NOTE: Either `internetGatewayId` or `internetGatewayName` must be specified.

<<_oci_delete_,icon:arrow-up[] top>>

[[deleteObject]]
.deleteObject
[options="header", cols="6*<,^"]
|===
| Property          | Type    | Option              | System                  | Environment             | Default | Required
| bucketName        | String  | bucket-name         | oci.bucket.name         | OCI_BUCKET_NAME         |         | icon:check[role="green"]
| objectName        | String  | object-name         | oci.object.name         | OCI_OBJECT_NAME         |         | icon:check[role="green"]
| namespaceName     | String  | namespace-name      | oci.namespace.name      | OCI_NAMESPACE_NAME      |         | icon:check[role="green"]
| waitForCompletion | boolean | wait-for-completion | oci.wait.for.completion | OCI_WAIT_FOR_COMPLETION | false   | icon:times[role="red"]
|===
<<_oci_delete_,icon:arrow-up[] top>>

[[deleteSubnet]]
.deleteSubnet
[options="header", cols="6*<,^"]
|===
| Property          | Type    | Option              | System                  | Environment             | Default | Required
| compartmentId     | String  | compartment-id      | oci.compartment.id      | OCI_COMPARTMENT_ID      |         | icon:check[role="green"]
| subnetId          | String  | subnet-id           | oci.subnet.id           | OCI_SUBNET_ID           |         | icon:check[role="green"]*
| subnetName        | String  | subnet-name         | oci.subnet.name         | OCI_SUBNET_NAME         |         | icon:check[role="green"]*
| vcnId             | String  | vcn-id              | oci.vcn.id              | OCI_VCN_ID              |         | icon:check[role="green"]
| waitForCompletion | boolean | wait-for-completion | oci.wait.for.completion | OCI_WAIT_FOR_COMPLETION | false   | icon:times[role="red"]
|===

NOTE: Either `subneId` or `subnetName` must be specified.

<<_oci_delete_,icon:arrow-up[] top>>

[[deleteVcn]]
.deleteVcn
[options="header", cols="6*<,^"]
|===
| Property          | Type    | Option              | System                  | Environment             | Default | Required
| compartmentId     | String  | compartment-id      | oci.compartment.id      | OCI_COMPARTMENT_ID      |         | icon:check[role="green"]
| vcnId             | String  | vcn-id              | oci.vcn.id              | OCI_VCN_ID              |         | icon:check[role="green"]*
| vcnName           | String  | vcn-name            | oci.vcn.name            | OCI_VCNNAME             |         | icon:check[roles=]*
| waitForCompletion | boolean | wait-for-completion | oci.wait.for.completion | OCI_WAIT_FOR_COMPLETION | false   | icon:times[role="red"]
|===

NOTE: Either `vcnId` or `vcnName` must be specified.

<<_oci_delete_,icon:arrow-up[] top>>

[[_oci_get_]]
=== OCI Get

[horizontal]
<<getBucket>>:: Displays information for an specific Bucket.
<<getCompartment>>:: Displays information for an specific Compartment.
<<getInstanceConsoleConnection>>:: Displays information for an specific InstanceConsoleConnection.
<<getInstancePublicIp>>:: Displays public Ip addresses for a particular Instance.
<<getInstance>>:: Displays information for an specific Instance.
<<getInternetGateway>>:: Displays information for an specific InternetGateway.
<<getNamespace>>:: Displays information for an specific Namespace.
<<getObject>>:: Displays information for an specific Object.
<<getRouteTable>>:: Displays information for an specific RouteTable.
<<getSecurityList>>:: Displays information for an specific SecurityList.
<<getSubnet>>:: Displays information for an specific Subnet.
<<getVcn>>:: Displays information for an specific Vcn.

[[getBucket]]
.getBucket
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| bucketName    | String  | bucket-name    | oci.bucket.name    | OCI_BUCKET_NAME    |         | icon:check[role="green"]
| namespaceName | String  | namespace-name | oci.namespace.name | OCI_NAMESPACE_NAME |         | icon:check[role="green"]
|===
<<_oci_get_,icon:arrow-up[] top>>

[[getCompartment]]
.getCompartment
[options="header", cols="6*<,^"]
|===
| Property      | Type   | Option         | System             | Environment        | Default | Required
| compartmentId | String | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
|===
<<_oci_get_,icon:arrow-up[] top>>

[[getInstanceConsoleConnection]]
.getInstanceConsoleConnection
[options="header", cols="6*<,^"]
|===
| Property                    | Type   | Option                         | System                             | Environment                        | Default | Required
| instanceConsoleConnectionId | String | instance-console-connection-id | oci.instance.console.connection.id | OCI_INSTANCE_CONSOLE_CONNECTION_ID |         | icon:check[role="green"]
|===
<<_oci_get_,icon:arrow-up[] top>>

[[getInstancePublicIp]]
.getInstancePublicIp
[options="header", cols="6*<,^"]
|===
| Property      | Type   | Option         | System             | Environment        | Default | Required
| compartmentId | String | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
| instanceId    | String | instance-id    | oci.instance.id    | OCI_INSTANCE_ID    |         | icon:check[role="green"]
|===
<<_oci_get_,icon:arrow-up[] top>>

[[getInstance]]
.getInstance
[options="header", cols="6*<,^"]
|===
| Property   | Type   | Option      | System          | Environment     | Default | Required
| instanceId | String | instance-id | oci.instance.id | OCI_INSTANCE_ID |         | icon:check[role="green"]
|===
<<_oci_get_,icon:arrow-up[] top>>

[[getInternetGateway]]
.getInternetGateway
[options="header", cols="6*<,^"]
|===
| Property          | Type   | Option              | System                  | Environment             | Default | Required
| internetGatewayId | String | internet-gateway-id | oci.internet.gateway.id | OCI_INTERNET_GATEWAY_ID |         | icon:check[role="green"]
|===
<<_oci_get_,icon:arrow-up[] top>>

[[getNamespace]]
.getNamespace
[options="header", cols="6*<,^"]
|===
| Property      | Type   | Option         | System             | Environment        | Default | Required
| compartmentId | String | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
|===
<<_oci_get_,icon:arrow-up[] top>>

[[getObject]]
.getObject
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| bucketName    | String  | bucket-name    | oci.bucket.name    | OCI_BUCKET_NAME    |         | icon:check[role="green"]
| objectName    | String  | object-name    | oci.object.name    | OCI_OBJECT_NAME    |         | icon:check[role="green"]
| namespaceName | String  | namespace-name | oci.namespace.name | OCI_NAMESPACE_NAME |         | icon:check[role="green"]
|===
<<_oci_get_,icon:arrow-up[] top>>

[[getRouteTable]]
.getRouteTable
[options="header", cols="6*<,^"]
|===
| Property     | Type   | Option         | System             | Environment        | Default | Required
| routeTableId | String | route-table-id | oci.route.table.id | OCI_ROUTE_TABLE_ID |         | icon:check[role="green"]
|===
<<_oci_get_,icon:arrow-up[] top>>

[[getSecurityList]]
.getSecurityList
[options="header", cols="6*<,^"]
|===
| Property       | Type   | Option           | System               | Environment          | Default | Required
| securityListId | String | security-list-id | oci.security.list.id | OCI_SECURITY_LIST_ID |         | icon:check[role="green"]
|===
<<_oci_get_,icon:arrow-up[] top>>

[[getSubnet]]
.getSubnet
[options="header", cols="6*<,^"]
|===
| Property | Type   | Option    | System        | Environment   | Default | Required
| subnetId | String | subnet-id | oci.subnet.id | OCI_SUBNET_ID |         | icon:check[role="green"]
|===
<<_oci_get_,icon:arrow-up[] top>>

[[getVcn]]
.getVcn
[options="header", cols="6*<,^"]
|===
| Property| Type   | Option | System     | Environment | Default | Required
| vcnId   | String | vcn-id | oci.vcn.id | OCI_VCN_ID  |         | icon:check[role="green"]
|===
<<_oci_get_,icon:arrow-up[] top>>

[[_oci_instance_]]
=== OCI Instance

[horizontal]
<<addIngressSecurityRule>>:: Adds IngressSecurityRules to a SecurityList.
<<instanceAction>>:: Performs a given action on an Instance.
<<setupInstance>>:: Setups an Instance with Vcn, InternetGateway, Subnets, InstanceConsoleConnection, and Volume.
<<terminateInstance>>:: Terminates an Instance.

[[addIngressSecurityRule]]
.addIngressSecurityRule
[options="header", cols="6*<,^"]
|===
| Property        | Type   | Option           | System               | Environment          | Default | Required
| sourcePort      | int    | source-port      |                      |                      |         | icon:check[role="green"]
| destinationPort | int    | destination-port |                      |                      |         | icon:check[role="green"]
| portType        | String | port-type        | oci.port.type        | OCI_PORT_TYPE        | TCP     | icon:times[role="red"]
| securityListId  | String | security-list-id | oci.security.list.id | OCI_SECURITY_LIST_ID |         | icon:check[role="green"]
|===

NOTE: Multiple entries for `--source-port` and/or `--destination-port` may be defined.

NOTE: Valid values for `portType` are: `TCP`, `UDP`.

<<_oci_instance_,icon:arrow-up[] top>>

[[instanceAction]]
.instanceAction
[options="header", cols="6*<,^"]
|===
| Property          | Type    | Option              | System                  | Environment             | Default | Required
| action            | String  | action              | oci.action              | OCI_ACTION              | STOP    | icon:check[role="green"]
| compartmentId     | String  | compartment-id      | oci.compartment.id      | OCI_COMPARTMENT_ID      |         | icon:check[role="green"]
| instanceId        | String  | instance-id         | oci.instance.id         | OCI_INSTANCE_ID         |         | icon:check[role="green"]*
| instanceName      | String  | instance-name       | oci.instance.name       | OCI_INSTANCE_NAME       |         | icon:check[role="green"]*
| waitForCompletion | boolean | wait-for-completion | oci.wait.for.completion | OCI_WAIT_FOR_COMPLETION | false   | icon:times[role="red"]
|===

NOTE: Either `instanceId` or `instanceName` must be specified.

NOTE: Valid values for `action` are: `RESET`, `SOFTRESET`, `SOFTSTOP`, `START`, `STOP`.

<<_oci_instance_,icon:arrow-up[] top>>

[[setupInstance]]
.setupInstance
[options="header", cols="6*<,^"]
|===
| Property          | Type    | Option              | System                  | Environment             | Default | Required
| compartmentId     | String  | compartment-id      | oci.compartment.id      | OCI_COMPARTMENT_ID      |         | icon:check[role="green"]
| image             | String  | image               | oci.image               | OCI_IMAGE               |         | icon:check[role="green"]
| instanceName      | String  | instance-name       | oci.instance.name       | OCI_INSTANCE_NAME       |         | icon:check[role="green"]
| publicKeyFile     | File    | public-key-file     | oci.public.key.file     | OCI_PUBLIC_KEY_FILE     |         | icon:check[role="green"]
| shape             | String  | shape               | oci.shape               | OCI_SHAPE               |         | icon:check[role="green"]
| userDataFile      | File    | user-data-file      | oci.user.data.file      | OCI_USER_DATA_FILE      |         | icon:check[role="green"]
| verbose           | boolean | verbose             | oci.verbose             | OCI_VERBOSE             | false   | icon:times[role="red"]
| waitForCompletion | boolean | wait-for-completion | oci.wait.for.completion | OCI_WAIT_FOR_COMPLETION | false   | icon:times[role="red"]
|===
<<_oci_instance_,icon:arrow-up[] top>>

[[terminateInstance]]
.terminateInstance
[options="header", cols="6*<,^"]
|===
| Property          | Type    | Option              | System                  | Environment             | Default | Required
| compartmentId     | String  | compartment-id      | oci.compartment.id      | OCI_COMPARTMENT_ID      |         | icon:check[role="green"]
| instanceId        | String  | instance-id         | oci.instance.id         | OCI_INSTANCE_ID         |         | icon:check[role="green"]*
| instanceName      | String  | instance-name       | oci.instance.name       | OCI_INSTANCE_NAME       |         | icon:check[role="green"]*
| waitForCompletion | boolean | wait-for-completion | oci.wait.for.completion | OCI_WAIT_FOR_COMPLETION | false   | icon:times[role="red"]
|===

NOTE: Either `instanceId` or `instanceName` must be specified.

<<_oci_instance_,icon:arrow-up[] top>>

[[_oci_list_]]
=== OCI List

[horizontal]
<<listAvailabilityDomains>>:: Lists AvailabilityDomains available on a Compartment.
<<listBuckets>>:: Lists available Buckets.
<<listCompartments>>:: Lists available Compartments.
<<listImages>>:: Lists Images available on a Compartment.
<<listInstanceConsoleConnections>>:: Lists available InstanceConsoleConnection on an Instance.
<<listInstances>>:: Lists available Instances.
<<listInternetGateways>>:: Lists InternetGateways available on a Vcn.
<<listObjects>>:: Lists available Objects in a Bucket.
<<listRegions>>:: Lists available Regions.
<<listRouteTables>>:: Lists RouteTables available on a Vcn.
<<listSecurityLists>>:: Lists SecurityLists available on a Vcn.
<<listShapes>>:: Lists Shapes available on a Compartment.
<<listSubnets>>:: Lists Subnets available on a Vcn.
<<listUsers>>:: Lists available Users.
<<listVcns>>:: Lists Vcns available on a Compartment.

[[listAvailabilityDomains]]
.listAvailabilityDomains
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| compartmentId | String  | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
| verbose       | boolean | verbose        | oci.verbose        | OCI_VERBOSE        | false   | icon:times[role="red"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[listBuckets]]
.listBuckets
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| compartmentId | String  | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
| namespaceName | String  | namespace-name | oci.namespace.name | OCI_NAMESPACE_NAME |         | icon:check[role="green"]
| limit         | Integer | limit          | oci.limit          | OCI_LIMIT          | 1000    | icon:times[role="red"]
| page          | String  | page           | oci.page           | OCI_PAGE           |         | icon:times[role="red"]
| verbose       | boolean | verbose        | oci.verbose        | OCI_VERBOSE        | false   | icon:times[role="red"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[listCompartments]]
.listCompartments
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| compartmentId | String  | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
| verbose       | boolean | verbose        | oci.verbose        | OCI_VERBOSE        | false   | icon:times[role="red"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[listImages]]
.listImages
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| compartmentId | String  | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
| verbose       | boolean | verbose        | oci.verbose        | OCI_VERBOSE        | false   | icon:times[role="red"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[listInstanceConsoleConnections]]
.listInstanceConsoleConnections
[options="header", cols="6*<,^"]
|===
| Property      | Type   | Option         | System             | Environment        | Default | Required
| compartmentId | String | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
| instanceId    | String | instance-id    | oci.instance.id    | OCI_INSTANCE_ID    |         | icon:check[role="green"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[listInstances]]
.listInstances
[options="header", cols="6*<,^"]
|===
| Property           | Type    | Option              | System                  | Environment             | Default | Required
| availabilityDomain | String  | availability-domain | oci.availability.domain | OCI_AVAILABILITY_DOMAIN |         | icon:check[role="green"]
| compartmentId      | String  | compartment-id      | oci.compartment.id      | OCI_COMPARTMENT_ID      |         | icon:check[role="green"]
| verbose            | boolean | verbose             | oci.verbose             | OCI_VERBOSE             | false   | icon:times[role="red"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[listInternetGateways]]
.listInternetGateways
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| compartmentId | String  | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
| vcnId         | String  | vcn-id         | oci.vcn.id         | OCI_VCN_ID         |         | icon:check[role="green"]
| verbose       | boolean | verbose        | oci.verbose        | OCI_VERBOSE        | false   | icon:times[role="red"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[listObjects]]
.listObjects
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| compartmentId | String  | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
| bucketName    | String  | bucket-name    | oci.bucket.name    | OCI_BUCKET_NAME    |         | icon:check[role="green"]
| namespaceName | String  | namespace-name | oci.namespace.name | OCI_NAMESPACE_NAME |         | icon:check[role="green"]
| limit         | Integer | limit          | oci.limit          | OCI_LIMIT          | 1000    | icon:times[role="red"]
| delimiter     | String  | delimiter      | oci.delimiter      | OCI_DELIMITER      |         | icon:times[role="red"]
| prefix        | String  | prefix         | oci.prefix         | OCI_PREFIX         |         | icon:times[role="red"]
| start         | String  | start          | oci.start          | OCI_START          |         | icon:times[role="red"]
| end           | String  | end            | oci.end            | OCI_END            |         | icon:times[role="red"]
| fields        | String  | fields         | oci.fields         | OCI_FIELDS         |         | icon:times[role="red"]
| verbose       | boolean | verbose        | oci.verbose        | OCI_VERBOSE        | false   | icon:times[role="red"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[listRegions]]
.listRegions
[options="header", cols="6*<,^"]
|===
| Property| Type    | Option  | System      | Environment | Default | Required
| verbose | boolean | verbose | oci.verbose | OCI_VERBOSE | false   | icon:times[role="red"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[listRouteTables]]
.listRouteTables
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| compartmentId | String  | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
| vcnId         | String  | vcn-id         | oci.vcn.id         | OCI_VCN_ID         |         | icon:check[role="green"]
| verbose       | boolean | verbose        | oci.verbose        | OCI_VERBOSE        | false   | icon:times[role="red"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[listSecurityLists]]
.listSecurityLists
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| compartmentId | String  | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
| vcnId         | String  | vcn-id         | oci.vcn.id         | OCI_VCN_ID         |         | icon:check[role="green"]
| verbose       | boolean | verbose        | oci.verbose        | OCI_VERBOSE        | false   | icon:times[role="red"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[listShapes]]
.listShapes
[options="header", cols="6*<,^"]
|===
| Property      | Type   | Option         | System             | Environment        | Default | Required
| compartmentId | String | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[listSubnets]]
.listSubnets
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| compartmentId | String  | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
| vcnId         | String  | vcn-id         | oci.vcn.id         | OCI_VCN_ID         |         | icon:check[role="green"]
| verbose       | boolean | verbose        | oci.verbose        | OCI_VERBOSE        | false   | icon:times[role="red"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[listUsers]]
.listUsers
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| compartmentId | String  | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
| verbose       | boolean | verbose        | oci.verbose        | OCI_VERBOSE        | false   | icon:times[role="red"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[listVcns]]
.listVcns
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| compartmentId | String  | compartment-id | oci.compartment.id | OCI_COMPARTMENT_ID |         | icon:check[role="green"]
| verbose       | boolean | verbose        | oci.verbose        | OCI_VERBOSE        | false   | icon:times[role="red"]
|===
<<_oci_list_,icon:arrow-up[] top>>

[[_oci_object_]]
=== OCI Object

[horizontal]
<<clearBucket>>:: Clears a Bucket.
<<copyObject>>:: Copies an Object.
<<downloadObject>>:: Downloads an Object to an specific location.
<<headBucket>>:: Heads an specific Bucket.
<<headObject>>:: Heads an specific Object.
<<putObject>>:: Puts an Object on a Bucket.

[[clearBucket]]
.clearBucket
[options="header", cols="6*<,^"]
|===
| Property      | Type    | Option         | System             | Environment        | Default | Required
| bucketName    | String  | bucket-name    | oci.bucket.name    | OCI_BUCKET_NAME    |         | icon:check[role="green"]
| namespaceName | String  | namespace-name | oci.namespace.name | OCI_NAMESPACE_NAME |         | icon:check[role="green"]
| async         | boolean | async          | oci.async          | OCI_ASYNC          | false   | icon:times[role="red"]
|===
<<_oci_object_,icon:arrow-up[] top>>

[[copyObject]]
.copyObject
[options="header", cols="6*<,^"]
|===
| Property                 | Type   | Option                     | System                         | Environment                    | Default | Required
| bucketName               | String | bucket-name                | oci.bucket.name                | OCI_BUCKET_NAME                |         | icon:check[role="green"]
| objectName               | String | object-name                | oci.object.name                | OCI_OBJECT_NAME                |         | icon:check[role="green"]
| namespaceName            | String | namespace-name             | oci.namespace.name             | OCI_NAMESPACE_NAME             |         | icon:check[role="green"]
| destinationRegion        | String | destination-region         | oci.destination.region         | OCI_DESTINATION_REGION         |         | icon:times[role="red"]
| destinationBucketName    | String | destination-bucket-name    | oci.destination.bucket.name    | OCI_DESTINATION_BUCKET_NAME    |         | icon:times[role="red"]
| destinationNamespaceName | String | destination-namespace-name | oci.destination.namespace.name | OCI_DESTINATION_NAMESPACE_NAME |         | icon:times[role="red"]
| destinationObjectName    | String | destination-object-name    | oci.destination.object.name    | OCI_DESTINATION_OBJECT_NAME    |         | icon:check[role="green"]
|===
<<_oci_object_,icon:arrow-up[] top>>

[[downloadObject]]
.downloadObject
[options="header", cols="6*<,^"]
|===
| Property       | Type      | Option          | System              | Environment         | Default | Required
| bucketName     | String    | bucket-name     | oci.bucket.name     | OCI_BUCKET_NAME     |         | icon:check[role="green"]
| objectName     | String    | object-name     | oci.object.name     | OCI_OBJECT_NAME     |         | icon:check[role="green"]
| namespaceName  | String    | namespace-name  | oci.namespace.name  | OCI_NAMESPACE_NAME  |         | icon:check[role="green"]
| destinationDir | Directory | destination-dir | oci.destination.dir | OCI_DESTINATION_DIR |         | icon:check[role="green"]
|===
<<_oci_object_,icon:arrow-up[] top>>

[[headBucket]]
.headBucket
[options="header", cols="6*<,^"]
|===
| Property   | Type   | Option      | System          | Environment     | Default | Required
| bucketName | String | bucket-name | oci.bucket.name | OCI_BUCKET_NAME |         | icon:check[role="green"]
| objectName | String | object-name | oci.object.name | OCI_OBJECT_NAME |         | icon:check[role="green"]
|===
<<_oci_object_,icon:arrow-up[] top>>

[[headObject]]
.headObject
[options="header", cols="6*<,^"]
|===
| Property      | Type   | Option         | System             | Environment        | Default | Required
| bucketName    | String | bucket-name    | oci.bucket.name    | OCI_BUCKET_NAME    |         | icon:check[role="green"]
| objectName    | String | object-name    | oci.object.name    | OCI_OBJECT_NAME    |         | icon:check[role="green"]
| namespaceName | String | namespace-name | oci.namespace.name | OCI_NAMESPACE_NAME |         | icon:check[role="green"]
|===
<<_oci_object_,icon:arrow-up[] top>>

[[putObject]]
.putObject
[options="header", cols="6*<,^"]
|===
| Property         | Type   | Option           | System               | Environment          | Default | Required
| bucketName       | String | bucket-name      | oci.bucket.name      | OCI_BUCKET_NAME      |         | icon:check[role="green"]
| objectName       | String | object-name      | oci.object.name      | OCI_OBJECT_NAME      |         | icon:check[role="green"]
| namespaceName    | String | namespace-name   | oci.namespace.name   | OCI_NAMESPACE_NAME   |         | icon:check[role="green"]
| file             | File   | file             | oci.file             | OCI_FILE             |         | icon:check[role="green"]
| content-type     | String | content-type     | oci.content.type     | OCI_CONTENT_TYPE     |         | icon:times[role="red"]
| content-encoding | String | content-encoding | oci.content.encoding | OCI_CONTENT_ENCODING |         | icon:times[role="red"]
| content-language | String | content-language | oci.content.language | OCI_CONTENT_LANGUAGE |         | icon:times[role="red"]
| content-md5      | String | content-md5      | oci.content.md5      | OCI_CONTENT_MD5      |         | icon:times[role="red"]
|===
<<_oci_object_,icon:arrow-up[] top>>

[[_oci_query_]]
=== OCI Query

[horizontal]
<<searchResources>>:: Lists information on resource types.

[[searchResources]]
.searchResources
[options="header", cols="6*<,^"]
|===
| Property     | Type   | Option        | System            | Environment       | Default | Required
| resourceType | String | resource-type | oci.resource.type | OCI_RESOURCE_TYPE |         | icon:times[role="red"]
|===
<<_oci_query_,icon:arrow-up[] top>>
